general = config['general']
seq = general['seq']
genetic_code = general['genetic_code']
kingdom = general['kingdom']

outputs = []
for task in config['structural_annotation']:
    rule_config = config['structural_annotation'][task]
    outputs.append('%s.ok' % rule_config['output'])
    include: '%s.rule' % task

for task in config['protein']:
    rule_config = config['protein'][task]
    outputs.append('%s.hit' % rule_config['output'])
    include: '%s.rule' % task

for task in config[kingdom]:
    rule_config = config[kingdom][task]
    outputs.append('%s.ok' % rule_config['output'])
    include: '%s.rule' % task

rule all:
    input:
        outputs

# rule report:
#     input:
#         '{seq}.gff'
#     output:
#         "{seq}.html"
#     run:
#         from snakemake.utils import report
#         shell('touch {output[0]}')



# ruleorder: ncRNA > tRNA > CRISPR
